{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Atefeh\\\\Desktop\\\\Demo\\\\Houtman_src\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Atefeh\\\\Desktop\\\\Demo\\\\Houtman_src\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\Atefeh\\\\Desktop\\\\Demo\\\\Houtman_src\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Atefeh\\\\Desktop\\\\Demo\\\\Houtman_src\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Atefeh\\\\Desktop\\\\Demo\\\\Houtman_src\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Atefeh\\\\Desktop\\\\Demo\\\\Houtman_src\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Atefeh\\\\Desktop\\\\Demo\\\\Houtman_src\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Atefeh\\\\Desktop\\\\Demo\\\\Houtman_src\\\\src\\\\components\\\\Card.js\";\nimport \"../styles/Card.css\";\nimport React, { Component } from \"react\";\nimport ReactDom from 'react-dom';\nimport Popup from 'react-popup';\nimport { connect } from \"react-redux\";\nimport { Draggable } from \"react-beautiful-dnd\";\nimport CardEditor from \"./CardEditor\";\n\nvar Card =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Card, _Component);\n\n  function Card() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Card);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Card)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      hover: false,\n      editing: false\n    };\n\n    _this.startHover = function () {\n      return _this.setState({\n        hover: true\n      });\n    };\n\n    _this.endHover = function () {\n      return _this.setState({\n        hover: false\n      });\n    };\n\n    _this.startEditing = function () {\n      if (_this.props.card.desc === undefined) _this.props.card.desc = \"Description\";\n      console.log(_this.props.card.desc);\n      /** Call the plugin */\n\n      Popup.plugins().prompt('', _this.props.card.desc, function (value) {\n        Popup.alert('You typed: ' + value);\n      });\n\n      _this.setState({\n        hover: false,\n        editing: true,\n        text: _this.props.card.text,\n        desc: _this.props.card.desc\n      });\n    };\n\n    _this.endEditing = function () {\n      return _this.setState({\n        hover: false,\n        editing: false\n      });\n    };\n\n    _this.editCard =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(text, desc) {\n        var _this$props, card, dispatch;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this$props = _this.props, card = _this$props.card, dispatch = _this$props.dispatch;\n\n                _this.endEditing();\n\n                dispatch({\n                  type: \"CHANGE_CARD_TEXT\",\n                  payload: {\n                    cardId: card._id,\n                    cardText: text,\n                    cardDesc: desc\n                  }\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.deleteCard =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var _this$props2, listId, card, dispatch;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this$props2 = _this.props, listId = _this$props2.listId, card = _this$props2.card, dispatch = _this$props2.dispatch;\n              dispatch({\n                type: \"DELETE_CARD\",\n                payload: {\n                  cardId: card._id,\n                  listId: listId\n                }\n              });\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _this;\n  }\n\n  _createClass(Card, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          card = _this$props3.card,\n          index = _this$props3.index;\n      var _this$state = this.state,\n          hover = _this$state.hover,\n          editing = _this$state.editing;\n\n      if (!editing) {\n        return React.createElement(Draggable, {\n          draggableId: card._id,\n          index: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, function (provided, snapshot) {\n          return React.createElement(\"div\", Object.assign({\n            ref: provided.innerRef\n          }, provided.draggableProps, provided.dragHandleProps, {\n            className: \"Card\",\n            onMouseEnter: _this2.startHover,\n            onMouseLeave: _this2.endHover,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67\n            },\n            __self: this\n          }), hover && React.createElement(\"div\", {\n            className: \"Card-Icons\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"Card-Icon\",\n            onClick: _this2.startEditing,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77\n            },\n            __self: this\n          }, React.createElement(\"ion-icon\", {\n            name: \"create\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 78\n            },\n            __self: this\n          }))), card.text);\n        });\n      } else {\n        return React.createElement(CardEditor, {\n          text: card.text,\n          onSave: this.editCard,\n          onDelete: this.deleteCard,\n          onCancel: this.endEditing,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        });\n      }\n    }\n  }]);\n\n  return Card;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state, ownProps) {\n  return {\n    card: state.cardsById[ownProps.cardId]\n  };\n};\n\nexport default connect(mapStateToProps)(Card);","map":{"version":3,"sources":["C:\\Users\\Atefeh\\Desktop\\Demo\\Houtman_src\\src\\components\\Card.js"],"names":["React","Component","ReactDom","Popup","connect","Draggable","CardEditor","Card","state","hover","editing","startHover","setState","endHover","startEditing","props","card","desc","undefined","console","log","plugins","prompt","value","alert","text","endEditing","editCard","dispatch","type","payload","cardId","_id","cardText","cardDesc","deleteCard","listId","index","provided","snapshot","innerRef","draggableProps","dragHandleProps","mapStateToProps","ownProps","cardsById"],"mappings":";;;;;;;;AAAA,OAAO,oBAAP;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,SAAT,QAA0B,qBAA1B;AAEA,OAAOC,UAAP,MAAuB,cAAvB;;IAEMC,I;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,KAAK,EAAE,KADD;AAENC,MAAAA,OAAO,EAAE;AAFH,K;;UAKRC,U,GAAa;AAAA,aAAM,MAAKC,QAAL,CAAc;AAAEH,QAAAA,KAAK,EAAE;AAAT,OAAd,CAAN;AAAA,K;;UACbI,Q,GAAW;AAAA,aAAM,MAAKD,QAAL,CAAc;AAAEH,QAAAA,KAAK,EAAE;AAAT,OAAd,CAAN;AAAA,K;;UAEXK,Y,GAAe,YAAM;AACnB,UAAI,MAAKC,KAAL,CAAWC,IAAX,CAAgBC,IAAhB,KAAyBC,SAA7B,EACE,MAAKH,KAAL,CAAWC,IAAX,CAAgBC,IAAhB,GAAuB,aAAvB;AAEFE,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKL,KAAL,CAAWC,IAAX,CAAgBC,IAA5B;AACA;;AACAd,MAAAA,KAAK,CAACkB,OAAN,GAAgBC,MAAhB,CAAuB,EAAvB,EAA2B,MAAKP,KAAL,CAAWC,IAAX,CAAgBC,IAA3C,EAAiD,UAAUM,KAAV,EAAiB;AAChEpB,QAAAA,KAAK,CAACqB,KAAN,CAAY,gBAAgBD,KAA5B;AACD,OAFD;;AAGA,YAAKX,QAAL,CAAc;AACZH,QAAAA,KAAK,EAAE,KADK;AAEZC,QAAAA,OAAO,EAAE,IAFG;AAGZe,QAAAA,IAAI,EAAE,MAAKV,KAAL,CAAWC,IAAX,CAAgBS,IAHV;AAIZR,QAAAA,IAAI,EAAE,MAAKF,KAAL,CAAWC,IAAX,CAAgBC;AAJV,OAAd;AAMD,K;;UAEDS,U,GAAa;AAAA,aAAM,MAAKd,QAAL,CAAc;AAAEH,QAAAA,KAAK,EAAE,KAAT;AAAgBC,QAAAA,OAAO,EAAE;AAAzB,OAAd,CAAN;AAAA,K;;UAEbiB,Q;;;;;+BAAW,iBAAOF,IAAP,EAAaR,IAAb;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,8BACkB,MAAKF,KADvB,EACDC,IADC,eACDA,IADC,EACKY,QADL,eACKA,QADL;;AAGT,sBAAKF,UAAL;;AAEAE,gBAAAA,QAAQ,CAAC;AACPC,kBAAAA,IAAI,EAAE,kBADC;AAEPC,kBAAAA,OAAO,EAAE;AAAEC,oBAAAA,MAAM,EAAEf,IAAI,CAACgB,GAAf;AAAoBC,oBAAAA,QAAQ,EAAER,IAA9B;AAAoCS,oBAAAA,QAAQ,EAAEjB;AAA9C;AAFF,iBAAD,CAAR;;AALS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;UAWXkB,U;;;;6BAAa;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,6BACwB,MAAKpB,KAD7B,EACHqB,MADG,gBACHA,MADG,EACKpB,IADL,gBACKA,IADL,EACWY,QADX,gBACWA,QADX;AAGXA,cAAAA,QAAQ,CAAC;AACPC,gBAAAA,IAAI,EAAE,aADC;AAEPC,gBAAAA,OAAO,EAAE;AAAEC,kBAAAA,MAAM,EAAEf,IAAI,CAACgB,GAAf;AAAoBI,kBAAAA,MAAM,EAANA;AAApB;AAFF,eAAD,CAAR;;AAHW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;6BASJ;AAAA;;AAAA,yBACiB,KAAKrB,KADtB;AAAA,UACCC,IADD,gBACCA,IADD;AAAA,UACOqB,KADP,gBACOA,KADP;AAAA,wBAEoB,KAAK7B,KAFzB;AAAA,UAECC,KAFD,eAECA,KAFD;AAAA,UAEQC,OAFR,eAEQA,OAFR;;AAIP,UAAI,CAACA,OAAL,EAAc;AACZ,eACE,oBAAC,SAAD;AAAW,UAAA,WAAW,EAAEM,IAAI,CAACgB,GAA7B;AAAkC,UAAA,KAAK,EAAEK,KAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG,UAACC,QAAD,EAAWC,QAAX;AAAA,iBACC;AACE,YAAA,GAAG,EAAED,QAAQ,CAACE;AADhB,aAEMF,QAAQ,CAACG,cAFf,EAGMH,QAAQ,CAACI,eAHf;AAIE,YAAA,SAAS,EAAC,MAJZ;AAKE,YAAA,YAAY,EAAE,MAAI,CAAC/B,UALrB;AAME,YAAA,YAAY,EAAE,MAAI,CAACE,QANrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAQGJ,KAAK,IACJ;AAAK,YAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAK,YAAA,SAAS,EAAC,WAAf;AAA2B,YAAA,OAAO,EAAE,MAAI,CAACK,YAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAU,YAAA,IAAI,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,CADF,CATJ,EAgBGE,IAAI,CAACS,IAhBR,CADD;AAAA,SADH,CADF;AAwBD,OAzBD,MAyBO;AACL,eACE,oBAAC,UAAD;AACE,UAAA,IAAI,EAAET,IAAI,CAACS,IADb;AAEE,UAAA,MAAM,EAAE,KAAKE,QAFf;AAGE,UAAA,QAAQ,EAAE,KAAKQ,UAHjB;AAIE,UAAA,QAAQ,EAAE,KAAKT,UAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAQD;AACF;;;;EAvFgBzB,S;;AA0FnB,IAAM0C,eAAe,GAAG,SAAlBA,eAAkB,CAACnC,KAAD,EAAQoC,QAAR;AAAA,SAAsB;AAC5C5B,IAAAA,IAAI,EAAER,KAAK,CAACqC,SAAN,CAAgBD,QAAQ,CAACb,MAAzB;AADsC,GAAtB;AAAA,CAAxB;;AAIA,eAAe3B,OAAO,CAACuC,eAAD,CAAP,CAAyBpC,IAAzB,CAAf","sourcesContent":["import \"../styles/Card.css\";\r\n\r\nimport React, { Component } from \"react\";\r\nimport ReactDom from 'react-dom';\r\nimport Popup from 'react-popup';\r\nimport { connect } from \"react-redux\";\r\nimport { Draggable } from \"react-beautiful-dnd\";\r\n\r\nimport CardEditor from \"./CardEditor\";\r\n\r\nclass Card extends Component {\r\n  state = {\r\n    hover: false,\r\n    editing: false\r\n  };\r\n\r\n  startHover = () => this.setState({ hover: true });\r\n  endHover = () => this.setState({ hover: false });\r\n\r\n  startEditing = () => {\r\n    if (this.props.card.desc === undefined)\r\n      this.props.card.desc = \"Description\";\r\n    \r\n    console.log(this.props.card.desc);\r\n    /** Call the plugin */\r\n    Popup.plugins().prompt('', this.props.card.desc, function (value) {\r\n      Popup.alert('You typed: ' + value);\r\n    });\r\n    this.setState({\r\n      hover: false,\r\n      editing: true,\r\n      text: this.props.card.text,\r\n      desc: this.props.card.desc\r\n    });\r\n  }\r\n\r\n  endEditing = () => this.setState({ hover: false, editing: false });\r\n\r\n  editCard = async (text, desc) => {\r\n    const { card, dispatch } = this.props;\r\n\r\n    this.endEditing();\r\n\r\n    dispatch({\r\n      type: \"CHANGE_CARD_TEXT\",\r\n      payload: { cardId: card._id, cardText: text, cardDesc: desc }\r\n    });\r\n  };\r\n\r\n  deleteCard = async () => {\r\n    const { listId, card, dispatch } = this.props;\r\n\r\n    dispatch({\r\n      type: \"DELETE_CARD\",\r\n      payload: { cardId: card._id, listId }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { card, index } = this.props;\r\n    const { hover, editing } = this.state;\r\n\r\n    if (!editing) {\r\n      return (\r\n        <Draggable draggableId={card._id} index={index}>\r\n          {(provided, snapshot) => (\r\n            <div\r\n              ref={provided.innerRef}\r\n              {...provided.draggableProps}\r\n              {...provided.dragHandleProps}\r\n              className=\"Card\"\r\n              onMouseEnter={this.startHover}\r\n              onMouseLeave={this.endHover}\r\n            >\r\n              {hover && (\r\n                <div className=\"Card-Icons\">\r\n                  <div className=\"Card-Icon\" onClick={this.startEditing}>\r\n                    <ion-icon name=\"create\" />\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {card.text}\r\n            </div>\r\n          )}\r\n        </Draggable>\r\n      );\r\n    } else {\r\n      return (\r\n        <CardEditor\r\n          text={card.text}\r\n          onSave={this.editCard}\r\n          onDelete={this.deleteCard}\r\n          onCancel={this.endEditing}\r\n        />\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  card: state.cardsById[ownProps.cardId]\r\n});\r\n\r\nexport default connect(mapStateToProps)(Card);\r\n"]},"metadata":{},"sourceType":"module"}